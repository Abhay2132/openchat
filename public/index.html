<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OPEN CHAT</title>
    <link rel="stylesheet" href="./styles/commons.css" />
    <link rel="stylesheet" href="./styles/cam.css" />
    
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script type="module" src="./js/main.js" async></script>
</head>

<body>
    <nav>
        <h1>OPEN CHAT</h1>
        <div id="user-count-box">ONLINE : <span id="user-count">1</span></div>
    </nav>
    <div id="cam-box">
        <video src="" id="remote" class="large-video" autoplay></video>
        <video src="" id="local" class="small-video" autoplay></video>
    </div>
    <button onclick="document.getElementById('logs').innerHTML = ''; ">Clear </button>
    <button onclick="fetch('/getUsers').then(r=>r.json()).then(window.log)">Get Users </button>
    <button onclick="window.newCall()">NEW</button>
    <div id="logs"></div>
</body>
<script>
    (() => {
        function setH() {
            let h = window.innerHeight + "px";
            document.documentElement.style.setProperty("--innerH", h);
        }
        if(typeof window == "undefined") return;
        requestAnimationFrame(setH)
        // window.onresize = setH;
        window.addEventListener("resize", setH);
  		
    })();
</script>
<!-- <script type="module" src="js/socket.js"></script> -->
</html>